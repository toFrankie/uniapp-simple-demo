<script setup>
/**
 * é—®é¢˜æè¿°ï¼šç¼–è¯‘åˆ° iOS App ç«¯ï¼Œå„ swiper-item é‡å åœ¨ä¸€èµ·ã€‚
 */

import { onMounted, ref } from 'vue'
import { FAKE_LIST } from '../../constants'

const list = ref([])

onMounted(async () => {
  list.value = await fetchList()
})

function fetchList() {
  return new Promise(resolve => setTimeout(() => resolve(FAKE_LIST), 1000))
}

function onChange(e) {
  console.log('ðŸš€ ~ onChange ~ e:', e.detail.source, e.detail.current)
}
</script>

<template>
  <view class="subtitle">ç»„ä»¶ä¸€</view>

  <swiper
    autoplay
    circular
    class="swiper"
    :duration="200"
    :interval="2000"
    vertical
    @change="onChange"
  >
    <swiper-item v-for="text in list" :key="text" class="swiper-item">
      {{ text }}
    </swiper-item>
  </swiper>
</template>

<style scoped>
.subtitle {
  font-size: 24px;
  font-weight: bold;
}

.swiper {
  margin-bottom: 30rpx;
  background: #eee;
  border-radius: 10rpx;
  width: 100%;
  height: 72rpx;
}

.swiper-item {
  width: 100%;
  height: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: flex;
  align-items: center;
}
</style>
